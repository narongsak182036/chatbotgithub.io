<!DOCTYPE html>
<html lang="th">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>‡πÅ‡∏ä‡∏ó‡∏ö‡∏≠‡∏ó‡∏ß‡∏¥‡πÄ‡∏Ñ‡∏£‡∏≤‡∏∞‡∏´‡πå‡∏≠‡∏≤‡∏Å‡∏≤‡∏£</title>
    <style>
        body {
            font-family: 'Poppins', sans-serif;
            display: flex;
            justify-content: center;
            align-items: center;
            height: 100vh;
            background: linear-gradient(135deg, #ece9e6, #ffffff);
            margin: 0;
            flex-direction: column;
        }
        .chat-container {
            width: 500px;
            background: white;
            border-radius: 20px;
            box-shadow: 0 10px 30px rgba(0, 0, 0, 0.2);
            overflow: hidden;
            display: flex;
            flex-direction: column;
            text-align: center;
            padding: 20px;
        }
        .chat-box {
            flex: 1;
            height: 400px;
            overflow-y: auto;
            padding: 20px;
            background: #f9f9f9;
            display: flex;
            flex-direction: column;
            border-radius: 10px;
        }
        .progress-container {
            width: 100%;
            margin: 10px 0;
        }
        .progress-bar {
            height: 30px;
            text-align: center;
            color: white;
            line-height: 30px;
            border-radius: 10px;
            margin-bottom: 10px;
            transition: width 0.8s ease-in-out;
            position: relative;
            font-weight: bold;
            cursor: pointer;
        }
        .progress-bar:hover .tooltip {
            display: block;
        }
        .tooltip {
            display: none;
            position: absolute;
            bottom: 35px;
            left: 50%;
            transform: translateX(-50%);
            background: rgba(0, 0, 0, 0.8);
            color: white;
            padding: 5px 10px;
            border-radius: 5px;
            font-size: 12px;
            white-space: nowrap;
        }
        .input-area {
            display: flex;
            padding: 15px;
            background: white;
            border-top: 2px solid #ddd;
        }
        input {
            flex: 1;
            padding: 12px;
            border: 2px solid #007bff;
            border-radius: 10px;
            font-size: 16px;
        }
        button {
            padding: 12px;
            margin-left: 10px;
            border: none;
            background: #007bff;
            color: white;
            border-radius: 10px;
            cursor: pointer;
            margin-bottom: 8px; /* ‡πÄ‡∏û‡∏¥‡πà‡∏°‡∏£‡∏∞‡∏¢‡∏∞‡∏´‡πà‡∏≤‡∏á‡∏£‡∏∞‡∏´‡∏ß‡πà‡∏≤‡∏á label ‡πÅ‡∏•‡∏∞‡πÄ‡∏ô‡∏∑‡πâ‡∏≠‡∏´‡∏≤ */
            transition: color 0.3s ease; /* ‡πÄ‡∏û‡∏¥‡πà‡∏°‡∏Å‡∏≤‡∏£‡πÄ‡∏õ‡∏•‡∏µ‡πà‡∏¢‡∏ô‡∏™‡∏µ‡πÅ‡∏ö‡∏ö‡∏ô‡∏∏‡πà‡∏°‡∏ô‡∏ß‡∏• */
            font-weight: bold; /* ‡∏Å‡∏≥‡∏´‡∏ô‡∏î‡πÉ‡∏´‡πâ‡∏ï‡∏±‡∏ß‡∏≠‡∏±‡∏Å‡∏©‡∏£‡∏´‡∏ô‡∏≤ */
        }
    </style>
</head>
<body>
    <div class="chat-container">
        <h2>PAKIN CHAT BOX</h2>
        <div class="chat-box" id="chatBox"></div>
        <div class="progress-container" id="progressContainer"></div>
        <div class="input-area">
            <input type="text" id="userInput" placeholder="‡∏ñ‡∏≤‡∏°‡∏≠‡∏∞‡πÑ‡∏£‡∏Å‡πá‡πÑ‡∏î‡πâ‡πÄ‡∏Å‡∏µ‡πà‡∏¢‡∏ß‡∏Å‡∏±‡∏ö‡πÅ‡∏û‡∏ó‡∏¢‡πå‡∏à‡∏µ‡∏ô..." onkeypress="handleKeyPress(event)">
            <button onclick="sendMessage()">‡∏™‡πà‡∏á</button>
            <button onclick="resetInput()">‡∏£‡∏µ‡πÄ‡∏ã‡πá‡∏ï</button>
            <button onclick="window.location.href='home.php'">Homeüè†</button>
        </div>
    </div>

    <script>
        function sendMessage() {
            let userInput = document.getElementById("userInput").value.trim();
            let chatBox = document.getElementById("chatBox");
            if (userInput === "") return;

            let userMessage = `<div class="message user-message"><strong>‡∏Ñ‡∏∏‡∏ì:</strong> ${userInput}</div>`;
            chatBox.innerHTML += userMessage;
            document.getElementById("userInput").value = "";

            let botResponses = analyzeSymptom(userInput);
            setTimeout(() => {
                let botMessageElement = document.createElement("div");
                botMessageElement.classList.add("message", "bot-message");
                chatBox.appendChild(botMessageElement);
                typeText(botMessageElement, botResponses);
                updateProgressBars(botResponses);
            }, 500);
        }

        function typeText(element, responses) {
            let text = "";
            responses.forEach(response => {
                text += ` ${response.message} (‡∏Ñ‡∏ß‡∏≤‡∏°‡πÄ‡∏õ‡πá‡∏ô‡πÑ‡∏õ‡πÑ‡∏î‡πâ: ${response.percentage}%)`;
            });
            let i = 0;
            function typing() {
                if (i < text.length) {
                    element.innerHTML += text.charAt(i);
                    i++;
                    setTimeout(typing, 30);
                }
            }
            typing();
        }

        function analyzeSymptom(input) {
            let responseMap = {
                "‡∏õ‡∏ß‡∏î‡∏´‡∏±‡∏ß": [
                    { message: "‡∏≠‡∏≤‡∏à‡πÄ‡∏Å‡∏¥‡∏î‡∏à‡∏≤‡∏Å‡∏†‡∏≤‡∏ß‡∏∞‡πÄ‡∏•‡∏∑‡∏≠‡∏î‡∏Ñ‡∏±‡πà‡∏á‡∏´‡∏£‡∏∑‡∏≠‡∏Ñ‡∏ß‡∏≤‡∏°‡∏£‡πâ‡∏≠‡∏ô‡∏™‡∏∞‡∏™‡∏°", percentage: 80 },
                    { message: "‡∏≠‡∏≤‡∏à‡πÄ‡∏Å‡∏¥‡∏î‡∏à‡∏≤‡∏Å‡∏Ñ‡∏ß‡∏≤‡∏°‡πÄ‡∏Ñ‡∏£‡∏µ‡∏¢‡∏î‡∏™‡∏∞‡∏™‡∏°", percentage: 20 }
                ],

                "‡∏ä‡∏µ‡∏û‡∏à‡∏£‡πÄ‡∏ï‡πâ‡∏ô‡πÄ‡∏£‡πá‡∏ß": [
                    { message: "‡∏≠‡∏≤‡∏à‡πÄ‡∏Å‡∏¥‡∏î‡∏à‡∏≤‡∏Å‡∏†‡∏≤‡∏ß‡∏∞‡∏£‡πâ‡∏≠‡∏ôÁÉ≠", percentage: 80 },
                    { message: "‡∏†‡∏≤‡∏¢‡πÉ‡∏ô‡∏£‡πâ‡∏≠‡∏ôÈáåÁÉ≠ËØÅ", percentage: 20 }
                ],
                "‡∏ä‡∏µ‡∏û‡∏à‡∏£‡πÄ‡∏ï‡πâ‡∏ô‡∏ä‡πâ‡∏≤": [
                    { message: "‡∏≠‡∏≤‡∏à‡πÄ‡∏Å‡∏¥‡∏î‡∏à‡∏≤‡∏Å‡∏†‡∏≤‡∏ß‡∏∞‡∏†‡∏≤‡∏¢‡πÉ‡∏ô‡πÄ‡∏¢‡πá‡∏ôÈáåÂØíËØÅ", percentage: 100 }
                ],
                "‡∏ä‡∏µ‡∏û‡∏à‡∏£‡∏•‡∏∑‡πà‡∏ô": [
                    { message: "‡∏≠‡∏≤‡∏à‡πÄ‡∏Å‡∏¥‡∏î‡∏à‡∏≤‡∏Å‡∏†‡∏≤‡∏ß‡∏∞‡πÄ‡∏™‡∏°‡∏´‡∏∞ Áó∞È•Æ", percentage: 25 },
                    { message: "‡∏Ñ‡∏ß‡∏≤‡∏°‡∏ä‡∏∑‡πâ‡∏ô Êπø", percentage: 25 },
                    { message: "‡∏≠‡∏≤‡∏à‡πÄ‡∏Å‡∏¥‡∏î‡∏à‡∏≤‡∏Å‡∏†‡∏≤‡∏ß‡∏∞‡πÅ‡∏Å‡∏£‡πà‡∏á ÂÆûËØÅ", percentage: 25 },
                    { message: "‡∏≠‡∏≤‡∏à‡πÄ‡∏Å‡∏¥‡∏î‡∏à‡∏≤‡∏Å‡∏†‡∏≤‡∏ß‡∏∞‡∏£‡πâ‡∏≠‡∏ô ÁÉ≠", percentage: 25 },
                ],
                "‡πÇ‡∏£‡∏Ñ‡πÑ‡∏Ç‡πâ‡∏´‡∏ß‡∏±‡∏î": [
                    { message: "‡∏≠‡∏≤‡∏à‡πÄ‡∏Å‡∏¥‡∏î‡∏à‡∏≤‡∏Å‡∏•‡∏°‡πÄ‡∏¢‡πá‡∏ô‡∏°‡∏≤‡∏Å‡∏£‡∏∞‡∏ó‡∏ö‡∏ó‡∏µ‡πà‡∏õ‡∏≠‡∏î È£éÂØíÊùüË°®ËØÅ", percentage: 20 },
                    { message: "‡∏•‡∏°‡∏£‡πâ‡∏≠‡∏ô‡∏°‡∏≤‡∏Å‡∏£‡∏∞‡∏ó‡∏ö‡∏ó‡∏µ‡πà‡∏õ‡∏≠‡∏î È£éÁÉ≠ÁäØË°®ËØÅ", percentage: 20 },
                    { message: "‡∏Ñ‡∏ß‡∏≤‡∏°‡∏ä‡∏∑‡πâ‡∏ô‡∏£‡πâ‡∏≠‡∏ô‡∏†‡∏≤‡∏¢‡∏ô‡∏≠‡∏Å‡∏°‡∏≤‡∏Å‡∏£‡∏∞‡∏ó‡∏ö ÊöëÊπø‰º§Ë°®ËØÅ", percentage: 20 },
                    { message: "‡∏•‡∏°‡∏õ‡∏£‡∏≤‡∏ì‡∏û‡∏£‡πà‡∏≠‡∏á Ê∞îËôöÊÑüÂÜí", percentage: 20 },
                    { message: "‡∏≠‡∏¥‡∏ô‡∏û‡∏£‡πà‡∏≠‡∏á Èò¥ËôöÊÑüÂÜí", percentage: 20 },
                ],




            };
            return responseMap[input] || [{ message: "‡∏Ç‡∏≠‡πÇ‡∏ó‡∏©‡∏Ñ‡πà‡∏∞ ‡∏â‡∏±‡∏ô‡πÑ‡∏°‡πà‡πÄ‡∏Ç‡πâ‡∏≤‡πÉ‡∏à‡∏Ñ‡∏≥‡∏ñ‡∏≤‡∏°", percentage: 0 }];
        }

        function updateProgressBars(responses) {
            let progressContainer = document.getElementById("progressContainer");
            progressContainer.innerHTML = "";
            responses.forEach((response, index) => {
                let barWrapper = document.createElement("div");
                barWrapper.classList.add("progress-bar");
                barWrapper.style.width = response.percentage + "%";
                barWrapper.style.background = ["#FF5733", "#33B5FF"][index % 2];
                let tooltip = document.createElement("div");
                tooltip.classList.add("tooltip");
                tooltip.textContent = response.message;
                let percentageText = document.createElement("span");
                percentageText.textContent = response.percentage + "%";
                barWrapper.appendChild(percentageText);
                barWrapper.appendChild(tooltip);
                progressContainer.appendChild(barWrapper);
            });
        }

        function handleKeyPress(event) {
            if (event.key === "Enter") sendMessage();
        }

        function resetInput() {
            document.getElementById("userInput").value = "";
            document.getElementById("chatBox").innerHTML = "";
            updateProgressBars([]);
        }
    </script>
</body>
</html>
